# 尚品会项目开发总结

# 路由

## 一、拆路由

路由如何拆解，一个项目在进行跳转时，有一些是不变的，一些是改变的。

那我们就可以将不会改变的部分（如尚品会头部信息、和底部信息）定义为非路由组件。

将需要跳转的部分，定义为路由组件。



## 二、开发一张页面时的步骤

1：书写静态页面（HTML+CSS）

2：拆分组件

3：获取服务器的数据动态显示

4：完成相应的动态业务逻辑



## 三、写组件时的格式

书写组件时，为组件单独创建文件夹，将组件，静态资源分开存放。

例如

```
components
|_ Header
	|_images      images存放静态资源
	|_Header.vue   这个为组件
```

## 四、路由组件与非路由组件的区别

一、路由组件一般创建一个`pages`或`views`文件来存放，非路由组件一般放置在`components`文件夹下

二、路由组件一般需要在`router`文件夹中进行注册（使用即为组件的名字），非路由组件通过引入注册完毕后，用标签来使用

三、注册完路由，路由与非路由组件身上都有$route和$router属性



$route放着路由信息。

$router放着跳转方法[push|replace|go|back|..]

## 五、路由配置

路由配置一般放置在`router`文件夹下

## 六、非路由组件的显示与隐藏

非路由组件的显示与隐藏：v-if|v-show(性能更好一点儿)

结合路由元信息：`meta`配置项

```js
/*
例如：Footer组件：
	显示：home,search路由组件中显示
	隐藏：login,register
	那我们就在这些路由组件中配置一个meta信息
*/
//router中的配置信息
    {
      path: "/home",
      component: Home,
      meta: {show: true}//添加一个show属性为true，就是显示
    },
    {
      path: "/search",
      component: Search,
      meta: {show: true}
    },
    {
      path: "/login",
      component: Login,
      meta: {show: false}//false就是隐藏
    },
    {
      path: "/register",
      component: Register,
      meta: {show: false}
    }


// 在Footer组件中判断

<Footer v-show="$route.meta.show"></Footer>
//判断meta.show即可
```



## 七、路由传参的应用场景

例如：

A路由界面经过操作（点击）跳转到B路由页面时，如果B路由需要A路由的数据，就可以使用路由传参。



A ===> B



## 八、拆分组件

在一个多个页面中都使用到的组件，可以将其做成全局组件，一次引入全局使用



## 九、axios封装

一般在项目`src`文件夹下的的`api`文件夹下封装`axios`，当然这个文件夹不是绝对的



## 十、接口统一管理

项目很小：完全可以在组件的生命周期中发送



项目大：将请求统一管理

## 十一、项目运行问题

如果运行项目卡住了并且是如下代码

```
98% after emitting CopyPlugin
```

应该是那个位置的引入没有写全例如

```js
import router from '';
//这只是一个例子，关键是from是空的
```

## 十二、Vuex的使用

并不是所有的项目都需要使用Vuex，如果项目很小则并不需要Vuex。

如果项目很大，组件很多，数据很多，数据维护起来很费劲，就可以考虑下Vuex了。
