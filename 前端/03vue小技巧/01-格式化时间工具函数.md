# 格式化时间工具函数

要求：

根据后端返回的时间字符串，计算和当前时间的差值：

如果小于1分钟显示，在几秒之前

如果小于1小时显示，在几分钟之前

如果小于1天显示，在几小时之前

最后如果超过1天了，显示`yyyy-mm-dd`



示例：

```js
export function dateToRelative(dateStr) {
	const date = new Date(dateStr);

	// 获取当前时间
	const now = new Date();

	const diff = now - date;

	// 在小于60秒时，显示在多少秒之前
	if (diff < 1000 * 60) {
		// 获取秒数
		const seconds = Math.floor(diff / 1000);

		return `${seconds} 秒前`;
	}

	// 在小于1小时时，返回在多少分钟之前
	if (diff < 1000 * 60 * 60) {
		const minutes = Math.floor(diff / (1000 * 60));

		return `${minutes}分钟前`;
	}

	// 在小于1天时，返回几小时之前
	if (diff < 1000 * 60 * 60 * 24) {
		const hours = Math.floor(diff / (1000 * 60 * 60 * 24));
		return `${hours} 小时前`;
	}

	// 如果已经超过一天时
	// 基本格式2022-04-03
	return `${date.getFullYear()} - ${('0' + (date.getMonth() + 1)).slice(-2)} -${(
		'0' +
		(date.getDate() + 1)
	).slice(-2)}`;
}

```

