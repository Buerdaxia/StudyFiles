# 自定义主题



## 自动导入配置

第一步：安装sass

```js
npm install sass -D
```





第二步：创建覆盖样式的scss文件

```scss
// styles/element/index.scss
/* 只需要重写你需要的即可 */
@forward 'element-plus/theme-chalk/src/common/var.scss' with (
  $colors: (
    'primary': (
      'base': #27ba9b,
    ),
    'success': (
      'base': #1dc779
    ),
    'warning': (
      'base': #ffb302
    ),
    'danger': (
      'base': #e26237
    ),
    'error': (
      'base': #cf4444
    )
  ),
);

// 如果只是按需导入，则可以忽略以下内容。
// 如果你想导入所有样式:
// @use "element-plus/theme-chalk/src/index.scss" as *;
```



第三步：配置`vite`

在`vite.config.js`中写入：

```js
import {fileURLToPath, URL} from 'node:url';

import {defineConfig} from 'vite';
import vue from '@vitejs/plugin-vue';

import AutoImport from 'unplugin-auto-import/vite';
import Components from 'unplugin-vue-components/vite';
import {ElementPlusResolver} from 'unplugin-vue-components/resolvers';

// https://vitejs.dev/config/
export default defineConfig({
	plugins: [
		vue(),
		AutoImport({
			resolvers: [ElementPlusResolver()]
		}),
		Components({
			// 1. 指明导入样式，默认是css，指定为sass
			resolvers: [ElementPlusResolver({importStyle: 'sass'})]
		})
	],
	resolve: {
		alias: {
			'@': fileURLToPath(new URL('./src', import.meta.url))
		}
	},

	// 2. 自动导入scss
	css: {
		preprocessorOptions: {
			scss: {
				additionalData: `@use "@/styles/element/index.scss" as *;`
        // 注意这里的路径要看上面alias怎么配置的
			}
		}
	}
});

```

