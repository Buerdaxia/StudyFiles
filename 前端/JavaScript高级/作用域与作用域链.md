# 作用域与作用域链

作用域就是一块儿点，即使一个代码段所在的区域。

它是静态的(相对于上下文对象)，在编写代码时就确定了。

分类：

* 全局作用域
* 函数作用域
* ES6中有块级作用域

作用：隔离变量，不同作用域下同名变量不会有冲突



作用域链：就是作用域由内到外去寻找数据(变量)，像一条链子一样。



注意：**作用域是在定义函数时就已经确定了的，无论函数在哪儿调用都不会改变**

## 静态作用域与动态作用域

首先确定：JavaScript使用的时静态作用域。

```js
var value = 1;

function foo() {
    console.log(value);
}

function bar() {
    var value = 2;
    foo();
}

bar();

// 结果是 ???
```

一、假如为静态作用域：

执行foo函数时，首先查找函数局部作用域是否有`value`变量，**没有则在定义函数代码的位置上，向外查找`value`变量**，发现value为1，所以结果为1



二、若为动态作用域：

执行foo函数时，依然先查找函数局部作用域是否有`value`变量，**如果没有，则就从调用函数的作用域里，开始一层一层向外查找`value`变量**，也就是bar()函数中查找，这时发现value=2，则结果为2。



两者的区别：就是查找变量的位置不同，就是查找的作用域不一样

## 作用域与执行上下文的区别

区别1：

1. 全局作用域之外，每个函数都会创建自己的作用域，**作用域在函数定义时就已经确定了，不是在函数调用时**
2. 全局执行上下文环境时在全局作用域确定之后，js代码马上执行前创建
3. 函数执行上下文是在调用函数时产生，函数体代码执行前创建



区别2：

1. 作用域是静态的，只要函数定义好了就一直存在，且不会再变化
2. 执行上下文是动态的，调用函数时创建，函数调用结束时会自动释放



注意：再强调！**作用域已经在执行前确定好了**





## 作用域与上下文的联系

1. 执行上下文(对象）是从属于所在的作用域
2. 全局上下文在全局作用域内
3. 函数执行上下文在局部作用域内

